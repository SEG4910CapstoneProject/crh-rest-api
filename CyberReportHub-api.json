{"openapi":"3.0.1","info":{"title":"CyberReportHub API","description":"The API to interact with CyberReportHub","version":"1.0"},"servers":[{"url":"http://localhost:58471","description":"Generated server url"}],"paths":{"/api/v1/stats/add":{"post":{"tags":["Statistics"],"summary":"Add new statistic","description":"This endpoint adds the specified statistic","operationId":"addStat","parameters":[{"name":"number","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"title","in":"query","required":true,"schema":{"type":"string"}},{"name":"subtitle","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Add statistic successful.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UidResponse"}}}},"500":{"description":"Unable to add statistic","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/articles/link":{"post":{"tags":["Articles"],"summary":"Get article by its link","description":"This endpoint gets the specified article by its link if exists","operationId":"getArticleByLink","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArticleByLinkRequest"}}},"required":true},"responses":{"404":{"description":"Unable to get article","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Successfully retrieved the article","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonArticleReportResponse"}}}}}}},"/api/v1/articles/add":{"post":{"tags":["Articles"],"summary":"Adds a new article","description":"This endpoint updates the specified article","operationId":"addArticle","parameters":[{"name":"title","in":"query","required":true,"schema":{"type":"string"}},{"name":"link","in":"query","required":true,"schema":{"type":"string"}},{"name":"description","in":"query","required":true,"schema":{"type":"string"}},{"name":"publish-date","in":"query","description":"Start date (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Add article successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UidResponse"}}}}}}},"/api/v1/stats/{id}":{"patch":{"tags":["Statistics"],"summary":"Update statistic","description":"This endpoint updates the specified statistic","operationId":"editStat","parameters":[{"name":"id","in":"path","description":"The statistic id","required":true,"schema":{"type":"string"}},{"name":"number","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"title","in":"query","required":true,"schema":{"type":"string"}},{"name":"subtitle","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"204":{"description":"Statistic edit successful","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Unable to edit statistic","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/suggestions":{"get":{"tags":["Reports"],"summary":"Gets a list of article and statistic suggestions for a report","description":"Gets a list of article suggestions for a given report id","operationId":"getReportSuggestions","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"Successfully gets suggestions from database","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonReportSuggestionsResponse"}}}},"404":{"description":"Report not found","content":{"*/*":{"schema":{"type":"object"}}}}}},"delete":{"tags":["Reports"],"summary":"Removes an article or statistic as a suggestion to a report","description":"Removes an article or statistic as a suggestion to a report","operationId":"deleteReportSuggestions","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"articleId","in":"query","required":false,"schema":{"type":"string"}},{"name":"statId","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"404":{"description":"Report not found","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Successfully removed article to report","content":{"*/*":{"schema":{"type":"object"}}}}}},"patch":{"tags":["Reports"],"summary":"Adds an article or statistic as a suggestion to a report","description":"Adds an article or statistic as a suggestion to a report","operationId":"patchReportSuggestions","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"articleId","in":"query","required":false,"schema":{"type":"string"}},{"name":"statId","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"204":{"description":"Successfully added article to report","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Report not found","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/removeStat":{"patch":{"tags":["Reports"],"summary":"Remove statistics from report","description":"This endpoint removes the statistics specified in request body from the report","operationId":"removeStatsFromReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","description":"The statistic IDs","items":{"type":"string"}}}},"required":true},"responses":{"404":{"description":"Unable to remove statistics","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Statistics removed from report successfully","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/removeStat/{statisticId}":{"patch":{"tags":["Reports"],"summary":"Remove statistic from report","description":"This endpoint removes the specified statistic from the report","operationId":"removeSingleStatFromReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"statisticId","in":"path","description":"The statistic id","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Unable to remove statistics","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Statistics removed from report successfully","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/removeArticle":{"patch":{"tags":["Reports"],"summary":"Remove articles from report","description":"This endpoint removes the articles specified in request body from the report","operationId":"removeArticlesFromReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","description":"The article IDs","items":{"type":"string"}}}},"required":true},"responses":{"204":{"description":"Articles removed from report successfully","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Unable to find report","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/removeArticle/{articleId}":{"patch":{"tags":["Reports"],"summary":"Remove article from report","description":"This endpoint removes the specified article from the report","operationId":"removeSingleArticlesFromReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"articleId","in":"path","description":"The article id","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Articles removed from report successfully","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Unable to find report","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/addStat":{"patch":{"tags":["Reports"],"summary":"Add statistics to report","description":"This endpoint adds the statistics specified in request body to the report","operationId":"addStatsToReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","description":"The statistic IDs","items":{"type":"string"}}}},"required":true},"responses":{"404":{"description":"Unable to add statistics","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Statistics added to report successfully","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/addStat/{statisticId}":{"patch":{"tags":["Reports"],"summary":"Add statistic to report","description":"This endpoint adds the specified statistic to the report","operationId":"addSingleStatToReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"statisticId","in":"path","description":"The statistic id","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Unable to add statistics","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Statistics added to report successfully","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/addArticle":{"patch":{"tags":["Reports"],"summary":"Add articles to report","description":"This endpoint adds the articles specified in request body to the report","operationId":"addArticlesToReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","description":"The article IDs","items":{"type":"string"}}}},"required":true},"responses":{"404":{"description":"Unable to find report","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Articles added to report successfully","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/addArticle/{articleId}":{"patch":{"tags":["Reports"],"summary":"Add article to report","description":"This endpoint adds the specified article to the report","operationId":"addSingleArticleToReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"articleId","in":"path","description":"The article id","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Unable to find report","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Articles added to report successfully","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/articles/{id}":{"get":{"tags":["Articles"],"summary":"Get article","description":"This endpoint gets the specified article","operationId":"getArticle","parameters":[{"name":"id","in":"path","description":"The article id","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Unable to get article","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Successfully retrieved the article","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonArticleReportResponse"}}}}}},"patch":{"tags":["Articles"],"summary":"Update article","description":"This endpoint updates the specified article","operationId":"editArticle","parameters":[{"name":"id","in":"path","description":"The article id","required":true,"schema":{"type":"string"}},{"name":"title","in":"query","required":true,"schema":{"type":"string"}},{"name":"link","in":"query","required":true,"schema":{"type":"string"}},{"name":"description","in":"query","required":true,"schema":{"type":"string"}},{"name":"publish-date","in":"query","description":"Start date (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"404":{"description":"Unable to edit article","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Article edit successful","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}":{"get":{"tags":["Reports"],"summary":"Returns report in desired format if id exists","description":"This endpoint gets reports in desired format","operationId":"getReportByID","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"format","in":"query","description":"The desired format","required":false,"schema":{"type":"string","default":"json","enum":["json","html"]}}],"responses":{"400":{"description":"Bad request","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Report not found","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Successfully formatted report","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonReportResponse"}},"text/html":{}}}}}},"/api/v1/reports/search":{"get":{"tags":["Reports"],"summary":"Search reports by date range and type","description":"This endpoint searches for reports based on date range and report type.","operationId":"searchReports","parameters":[{"name":"date-start","in":"query","description":"Start date (YYYY-MM-DD)","required":false,"schema":{"type":"string","format":"date"}},{"name":"date-end","in":"query","description":"End date (YYYY-MM-DD)","required":false,"schema":{"type":"string","format":"date"}},{"name":"type","in":"query","description":"Type of report","required":true,"schema":{"type":"string","enum":["daily","weekly"]}},{"name":"page","in":"query","description":"The page of the search. The offset of data is determined by \"limit\"","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"limit","in":"query","description":"The limit of results returned by this api","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"400":{"description":"Bad request","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Successfully retrieved reports","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchReportResponse"}}}}}}},"/api/v1/reports/latest":{"get":{"tags":["Reports"],"summary":"Returns latest report in desired format if any exists","description":"This endpoint gets the latest report in desired format","operationId":"getLatestReport","parameters":[{"name":"format","in":"query","description":"The desired format","required":false,"schema":{"type":"string","default":"json","enum":["json","html"]}}],"responses":{"400":{"description":"Bad request","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Report not found","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Successfully formatted report","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonReportResponse"}},"text/html":{}}}}}},"/api/v1/reports/latestId":{"get":{"tags":["Reports"],"summary":"Gets the id of the latest report","description":"Gets the id of the latest report","operationId":"getLatestId","responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"type":"string"}}}},"404":{"description":"No reports in system","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"UidResponse":{"required":["uid"],"type":"object","properties":{"uid":{"type":"string"}}},"ArticleByLinkRequest":{"required":["link"],"type":"object","properties":{"link":{"type":"string"}},"description":"The article id"},"JsonArticleReportResponse":{"required":["articleId","description","iocs","link","publishDate","title"],"type":"object","properties":{"articleId":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"category":{"type":"string"},"link":{"type":"string"},"iocs":{"type":"array","items":{"$ref":"#/components/schemas/JsonIocResponse"}},"publishDate":{"type":"string","format":"date"}}},"JsonIocResponse":{"required":["iocId","iocTypeId","iocTypeName","value"],"type":"object","properties":{"iocId":{"type":"integer","format":"int32"},"iocTypeId":{"type":"integer","format":"int32"},"iocTypeName":{"type":"string"},"value":{"type":"string"}}},"JsonReportResponse":{"required":["articles","emailStatus","generatedDate","lastModified","reportId","reportType","stats"],"type":"object","properties":{"reportId":{"type":"integer","format":"int32"},"reportType":{"type":"string"},"generatedDate":{"type":"string","format":"date-time"},"lastModified":{"type":"string","format":"date-time"},"emailStatus":{"type":"boolean"},"articles":{"type":"array","items":{"$ref":"#/components/schemas/JsonArticleReportResponse"}},"stats":{"type":"array","items":{"$ref":"#/components/schemas/JsonStatsResponse"}}}},"JsonStatsResponse":{"required":["statisticId","statisticNumber","title"],"type":"object","properties":{"statisticId":{"type":"string"},"statisticNumber":{"type":"integer","format":"int32"},"title":{"type":"string"},"subtitle":{"type":"string"}}},"JsonReportSuggestionsResponse":{"required":["articles","stats"],"type":"object","properties":{"articles":{"type":"array","items":{"$ref":"#/components/schemas/JsonArticleReportResponse"}},"stats":{"type":"array","items":{"$ref":"#/components/schemas/JsonStatsResponse"}}}},"SearchReportDetailsResponse":{"required":["articleTitles","emailStatus","generatedDate","iocs","lastModified","reportId","reportType","stats"],"type":"object","properties":{"reportId":{"type":"integer","format":"int32"},"reportType":{"type":"string"},"generatedDate":{"type":"string","format":"date"},"lastModified":{"type":"string","format":"date-time"},"emailStatus":{"type":"boolean"},"articleTitles":{"type":"array","description":"List of article titles in the report","items":{"type":"string","description":"List of article titles in the report"}},"iocs":{"type":"array","items":{"$ref":"#/components/schemas/JsonIocResponse"}},"stats":{"type":"array","items":{"$ref":"#/components/schemas/JsonStatsResponse"}}}},"SearchReportResponse":{"required":["reports","total"],"type":"object","properties":{"total":{"type":"integer","format":"int64"},"reports":{"type":"array","items":{"$ref":"#/components/schemas/SearchReportDetailsResponse"}}}}}}}