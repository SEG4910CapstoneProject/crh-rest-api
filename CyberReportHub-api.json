{"openapi":"3.0.1","info":{"title":"CyberReportHub API","description":"The API to interact with CyberReportHub","version":"1.0"},"servers":[{"url":"http://localhost:28337","description":"Generated server url"}],"paths":{"/api/v1/stats/add":{"post":{"tags":["Statistics"],"summary":"Add new statistic","description":"This endpoint adds the specified statistic","operationId":"addStat","parameters":[{"name":"number","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"title","in":"query","required":true,"schema":{"type":"string"}},{"name":"subtitle","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"500":{"description":"Unable to add statistic","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Add statistic successful.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UidResponse"}}}}}}},"/api/v1/reports/preview-pdf":{"post":{"tags":["Reports"],"summary":"Generates a preview of the report PDF","description":"Creates a PDF report based on the provided articles, categories, and analyst comments, but does NOT store it in the database.","operationId":"previewReport","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportRequest"}}},"required":true},"responses":{"400":{"description":"Invalid input data","content":{"*/*":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}},"200":{"description":"Successfully generated the preview PDF","content":{"*/*":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}}}}},"/api/v1/reports/create-pdf":{"post":{"tags":["Reports"],"summary":"Generates and stores a new report","description":"Generates a full report PDF based on the provided articles, categories, and analyst comments, and saves it to the database.","operationId":"createReport","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportRequest"}}},"required":true},"responses":{"200":{"description":"Successfully created the report with the generated PDF","content":{"*/*":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}},"400":{"description":"Invalid input data","content":{"*/*":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}}}}},"/api/v1/reports/create-basic-report":{"post":{"tags":["Reports"],"summary":"Creates a new report","description":"Generates a new report entry and returns the report ID.","operationId":"createBasicReport","parameters":[{"name":"reportType","in":"query","required":true,"schema":{"type":"string","enum":["daily","weekly"]}}],"responses":{"201":{"description":"Report created successfully","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}}}}},"400":{"description":"Invalid request","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}}}}}}}},"/api/v1/articles/toggle-article-of-note/{id}":{"post":{"tags":["Articles"],"summary":"Toggle the 'article of note' status","description":"This endpoint toggles the 'article of note' status of an article specified by its ID.","operationId":"toggleArticleOfNote","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Article of note status toggled successfully","content":{"application/json":{}}},"404":{"description":"Article not found","content":{"application/json":{}}}}}},"/api/v1/articles/link":{"post":{"tags":["Articles"],"summary":"Get article by its link","description":"This endpoint gets the specified article by its link if exists","operationId":"getArticleByLink","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArticleByLinkRequest"}}},"required":true},"responses":{"404":{"description":"Unable to get article","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Successfully retrieved the article","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonArticleReportResponse"}}}}}}},"/api/v1/articles/increment-view/{id}":{"post":{"tags":["Articles"],"summary":"Increment view count of an article","description":"This endpoint increments the view count of the article specified by its ID.","operationId":"incrementViewCount","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"View count incremented successfully","content":{"application/json":{}}},"404":{"description":"Article not found","content":{"application/json":{}}}}}},"/api/v1/articles/add":{"post":{"tags":["Articles"],"summary":"Adds a new article","description":"This endpoint updates the specified article","operationId":"addArticle","parameters":[{"name":"title","in":"query","required":true,"schema":{"type":"string"}},{"name":"link","in":"query","required":true,"schema":{"type":"string"}},{"name":"description","in":"query","required":true,"schema":{"type":"string"}},{"name":"publish-date","in":"query","description":"Start date (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Add article successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UidResponse"}}}}}}},"/api/v1/stats/{id}":{"patch":{"tags":["Statistics"],"summary":"Update statistic","description":"This endpoint updates the specified statistic","operationId":"editStat","parameters":[{"name":"id","in":"path","description":"The statistic id","required":true,"schema":{"type":"string"}},{"name":"number","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"title","in":"query","required":true,"schema":{"type":"string"}},{"name":"subtitle","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"204":{"description":"Statistic edit successful","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Unable to edit statistic","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/suggestions":{"get":{"tags":["Reports"],"summary":"Gets a list of article and statistic suggestions for a report","description":"Gets a list of article suggestions for a given report id","operationId":"getReportSuggestions","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"404":{"description":"Report not found","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Successfully gets suggestions from database","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonReportSuggestionsResponse"}}}}}},"delete":{"tags":["Reports"],"summary":"Removes an article or statistic as a suggestion to a report","description":"Removes an article or statistic as a suggestion to a report","operationId":"deleteReportSuggestions","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"articleId","in":"query","required":false,"schema":{"type":"string"}},{"name":"statId","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"404":{"description":"Report not found","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Successfully removed article to report","content":{"*/*":{"schema":{"type":"object"}}}}}},"patch":{"tags":["Reports"],"summary":"Adds an article or statistic as a suggestion to a report","description":"Adds an article or statistic as a suggestion to a report","operationId":"patchReportSuggestions","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"articleId","in":"query","required":false,"schema":{"type":"string"}},{"name":"statId","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"204":{"description":"Successfully added article to report","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Report not found","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/removeStat":{"patch":{"tags":["Reports"],"summary":"Remove statistics from report","description":"This endpoint removes the statistics specified in request body from the report","operationId":"removeStatsFromReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","description":"The statistic IDs","items":{"type":"string"}}}},"required":true},"responses":{"404":{"description":"Unable to remove statistics","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Statistics removed from report successfully","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/removeStat/{statisticId}":{"patch":{"tags":["Reports"],"summary":"Remove statistic from report","description":"This endpoint removes the specified statistic from the report","operationId":"removeSingleStatFromReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"statisticId","in":"path","description":"The statistic id","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Unable to remove statistics","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Statistics removed from report successfully","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/removeArticle":{"patch":{"tags":["Reports"],"summary":"Remove articles from report","description":"This endpoint removes the articles specified in request body from the report","operationId":"removeArticlesFromReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","description":"The article IDs","items":{"type":"string"}}}},"required":true},"responses":{"204":{"description":"Articles removed from report successfully","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Unable to find report","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/removeArticle/{articleId}":{"patch":{"tags":["Reports"],"summary":"Remove article from report","description":"This endpoint removes the specified article from the report","operationId":"removeSingleArticlesFromReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"articleId","in":"path","description":"The article id","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Articles removed from report successfully","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Unable to find report","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/addStat":{"patch":{"tags":["Reports"],"summary":"Add statistics to report","description":"This endpoint adds the statistics specified in request body to the report","operationId":"addStatsToReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","description":"The statistic IDs","items":{"type":"string"}}}},"required":true},"responses":{"404":{"description":"Unable to add statistics","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Statistics added to report successfully","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/addStat/{statisticId}":{"patch":{"tags":["Reports"],"summary":"Add statistic to report","description":"This endpoint adds the specified statistic to the report","operationId":"addSingleStatToReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"statisticId","in":"path","description":"The statistic id","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Unable to add statistics","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Statistics added to report successfully","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/addArticle":{"patch":{"tags":["Reports"],"summary":"Add articles to report","description":"This endpoint adds the articles specified in request body to the report","operationId":"addArticlesToReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","description":"The article IDs","items":{"type":"string"}}}},"required":true},"responses":{"404":{"description":"Unable to find report","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Articles added to report successfully","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}/addArticle/{articleId}":{"patch":{"tags":["Reports"],"summary":"Add article to report","description":"This endpoint adds the specified article to the report","operationId":"addSingleArticleToReport","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"articleId","in":"path","description":"The article id","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Unable to find report","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Articles added to report successfully","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/articles/{id}":{"get":{"tags":["Articles"],"summary":"Get article","description":"This endpoint gets the specified article","operationId":"getArticle","parameters":[{"name":"id","in":"path","description":"The article id","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Unable to get article","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Successfully retrieved the article","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonArticleReportResponse"}}}}}},"patch":{"tags":["Articles"],"summary":"Update article","description":"This endpoint updates the specified article","operationId":"editArticle","parameters":[{"name":"id","in":"path","description":"The article id","required":true,"schema":{"type":"string"}},{"name":"title","in":"query","required":true,"schema":{"type":"string"}},{"name":"link","in":"query","required":true,"schema":{"type":"string"}},{"name":"description","in":"query","required":true,"schema":{"type":"string"}},{"name":"publish-date","in":"query","description":"Start date (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"404":{"description":"Unable to edit article","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Article edit successful","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/reports/{id}":{"get":{"tags":["Reports"],"summary":"Returns report in desired format if id exists","description":"This endpoint gets reports in desired format","operationId":"getReportByID","parameters":[{"name":"id","in":"path","description":"The report id","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"format","in":"query","description":"The desired format","required":false,"schema":{"type":"string","default":"json","enum":["json","html"]}}],"responses":{"400":{"description":"Bad request","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Report not found","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Successfully formatted report","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonReportResponse"}},"text/html":{}}}}}},"/api/v1/reports/search":{"get":{"tags":["Reports"],"summary":"Search reports by date range and type","description":"This endpoint searches for reports based on date range and report type.","operationId":"searchReports","parameters":[{"name":"date-start","in":"query","description":"Start date (YYYY-MM-DD)","required":false,"schema":{"type":"string","format":"date"}},{"name":"date-end","in":"query","description":"End date (YYYY-MM-DD)","required":false,"schema":{"type":"string","format":"date"}},{"name":"type","in":"query","description":"Type of report","required":true,"schema":{"type":"string","enum":["daily","weekly"]}},{"name":"page","in":"query","description":"The page of the search. The offset of data is determined by \"limit\"","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"limit","in":"query","description":"The limit of results returned by this api","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"400":{"description":"Bad request","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Successfully retrieved reports","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchReportResponse"}}}}}}},"/api/v1/reports/latest":{"get":{"tags":["Reports"],"summary":"Returns latest report in desired format if any exists","description":"This endpoint gets the latest report in desired format","operationId":"getLatestReport","parameters":[{"name":"format","in":"query","description":"The desired format","required":false,"schema":{"type":"string","default":"json","enum":["json","html"]}}],"responses":{"400":{"description":"Bad request","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Report not found","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"Successfully formatted report","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonReportResponse"}},"text/html":{}}}}}},"/api/v1/reports/latestId":{"get":{"tags":["Reports"],"summary":"Gets the id of the latest report","description":"Gets the id of the latest report","operationId":"getLatestId","responses":{"404":{"description":"No reports in system","content":{"*/*":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"text/plain":{"schema":{"type":"string"}}}}}}},"/api/v1/reports/get-PDF/{id}":{"get":{"tags":["Reports"],"summary":"Retrieves the PDF of a report by its ID","description":"Fetches the PDF of the report identified by the provided ID.","operationId":"getReportPdf","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"Successfully retrieved the PDF of the report","content":{"*/*":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}},"404":{"description":"Report not found","content":{"*/*":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}}}}},"/api/v1/articles/type/{type}":{"get":{"tags":["Articles"],"summary":"Retrieve articles by type","description":"This endpoint fetches articles based on their type.","operationId":"getArticlesByType","parameters":[{"name":"type","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Articles retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonArticleReportResponse"}}}},"204":{"description":"No articles found for the given type","content":{"application/json":{}}}}}},"/api/v1/articles/top-10":{"get":{"tags":["Articles"],"summary":"Retrieve top 10 articles based on view count","description":"This endpoint fetches the top 10 articles sorted by their view count in descending order.","operationId":"getTop10Articles","responses":{"200":{"description":"Top 10 articles retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MonthlyArticleDTO"}}}},"204":{"description":"No articles found","content":{"application/json":{}}}}}},"/api/v1/articles/articles-of-note":{"get":{"tags":["Articles"],"summary":"Retrieve articles marked as 'articles of note'","description":"This endpoint fetches all articles that are marked as 'articles of note'.","operationId":"getArticlesOfNote","responses":{"200":{"description":"Articles of note retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MonthlyArticleDTO"}}}},"204":{"description":"No articles of note found","content":{"application/json":{}}}}}},"/api/v1/articles/article-types-with-articles":{"get":{"tags":["Articles"],"summary":"Retrieve all article types with articles","description":"This endpoint returns all article types along with their corresponding articles from the past specified number of days.","operationId":"getAllArticleTypesWithArticles","parameters":[{"name":"days","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"Article types and articles retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonArticleReportResponse"}}}}}}},"/api/v1/reports/delete/{id}":{"delete":{"tags":["Reports"],"summary":"Deletes a report","description":"Deletes a report by ID","operationId":"deleteReport","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"404":{"description":"Report not found","content":{"*/*":{"schema":{"type":"object"}}}},"204":{"description":"Successfully deleted report","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"UidResponse":{"required":["uid"],"type":"object","properties":{"uid":{"type":"string"}}},"ArticleDetails":{"type":"object","properties":{"articleId":{"type":"string","format":"uuid"},"title":{"type":"string"},"category":{"type":"string"},"link":{"type":"string"},"type":{"type":"string"}}},"ReportRequest":{"type":"object","properties":{"analystComments":{"type":"string"},"articles":{"type":"array","items":{"$ref":"#/components/schemas/ArticleDetails"}},"statistics":{"type":"array","items":{"$ref":"#/components/schemas/StatisticDetails"}},"reportID":{"type":"integer","format":"int32"}}},"StatisticDetails":{"type":"object","properties":{"title":{"type":"string"},"subtitle":{"type":"string"}}},"ArticleByLinkRequest":{"required":["link"],"type":"object","properties":{"link":{"type":"string"}},"description":"The article id"},"JsonArticleReportResponse":{"required":["articleId","description","iocs","link","publishDate","title"],"type":"object","properties":{"articleId":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"category":{"type":"string"},"link":{"type":"string"},"iocs":{"type":"array","items":{"$ref":"#/components/schemas/JsonIocResponse"}},"publishDate":{"type":"string","format":"date"}}},"JsonIocResponse":{"required":["iocId","iocTypeId","iocTypeName","value"],"type":"object","properties":{"iocId":{"type":"integer","format":"int32"},"iocTypeId":{"type":"integer","format":"int32"},"iocTypeName":{"type":"string"},"value":{"type":"string"}}},"JsonReportResponse":{"required":["articles","emailStatus","generatedDate","lastModified","reportId","reportType","stats"],"type":"object","properties":{"reportId":{"type":"integer","format":"int32"},"reportType":{"type":"string"},"generatedDate":{"type":"string","format":"date-time"},"lastModified":{"type":"string","format":"date-time"},"emailStatus":{"type":"boolean"},"articles":{"type":"array","items":{"$ref":"#/components/schemas/JsonArticleReportResponse"}},"stats":{"type":"array","items":{"$ref":"#/components/schemas/JsonStatsResponse"}}}},"JsonStatsResponse":{"required":["statisticId","statisticNumber","title"],"type":"object","properties":{"statisticId":{"type":"string"},"statisticNumber":{"type":"integer","format":"int32"},"title":{"type":"string"},"subtitle":{"type":"string"}}},"JsonReportSuggestionsResponse":{"required":["articles","stats"],"type":"object","properties":{"articles":{"type":"array","items":{"$ref":"#/components/schemas/JsonArticleReportResponse"}},"stats":{"type":"array","items":{"$ref":"#/components/schemas/JsonStatsResponse"}}}},"SearchReportDetailsResponse":{"required":["articleTitles","emailStatus","generatedDate","iocs","lastModified","reportId","reportType","stats"],"type":"object","properties":{"reportId":{"type":"integer","format":"int32"},"reportType":{"type":"string"},"generatedDate":{"type":"string","format":"date"},"lastModified":{"type":"string","format":"date-time"},"emailStatus":{"type":"boolean"},"articleTitles":{"type":"array","description":"List of article titles in the report","items":{"type":"string","description":"List of article titles in the report"}},"iocs":{"type":"array","items":{"$ref":"#/components/schemas/JsonIocResponse"}},"stats":{"type":"array","items":{"$ref":"#/components/schemas/JsonStatsResponse"}}}},"SearchReportResponse":{"required":["reports","total"],"type":"object","properties":{"total":{"type":"integer","format":"int64"},"reports":{"type":"array","items":{"$ref":"#/components/schemas/SearchReportDetailsResponse"}}}},"MonthlyArticleDTO":{"type":"object","properties":{"url":{"type":"string"},"viewCount":{"type":"integer","format":"int32"},"title":{"type":"string"}}}}}}